"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics=globalThis.webpackChunkphysical_ai_humanoid_robotics||[]).push([[249],{7040:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"module2-simulation/ch3-unity-visualization","title":"Chapter 2.3: Unity Visualization for Humanoid Robots","description":"Creating realistic 3D visualizations and human-robot interaction environments with Unity and ROS 2 including VR telepresence.","source":"@site/docs/module2-simulation/ch3-unity-visualization.md","sourceDirName":"module2-simulation","slug":"/module2-simulation/ch3-unity-visualization","permalink":"/physical-ai-textbook/docs/module2-simulation/ch3-unity-visualization","draft":false,"unlisted":false,"editUrl":"https://github.com/salmansiddiqui-99/physical-ai-textbook/tree/main/docs/module2-simulation/ch3-unity-visualization.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"id":"ch3-unity-visualization","title":"Chapter 2.3: Unity Visualization for Humanoid Robots","sidebar_label":"2.3 Unity Visualization","sidebar_position":6,"description":"Creating realistic 3D visualizations and human-robot interaction environments with Unity and ROS 2 including VR telepresence.","learning_objectives":["Configure Unity with ROS 2 integration using Unity Robotics Hub","Import and visualize humanoid robots from URDF descriptions","Create realistic HRI environments with lighting and physics","Implement VR telepresence interfaces for robot control"]},"sidebar":"tutorialSidebar","previous":{"title":"2.2 Sensor Simulation","permalink":"/physical-ai-textbook/docs/module2-simulation/ch2-sensor-simulation"},"next":{"title":"Isaac Sim Basics","permalink":"/physical-ai-textbook/docs/module3-isaac/ch1-isaac-sim"}}');var s=i(4848),t=i(8453);const o={id:"ch3-unity-visualization",title:"Chapter 2.3: Unity Visualization for Humanoid Robots",sidebar_label:"2.3 Unity Visualization",sidebar_position:6,description:"Creating realistic 3D visualizations and human-robot interaction environments with Unity and ROS 2 including VR telepresence.",learning_objectives:["Configure Unity with ROS 2 integration using Unity Robotics Hub","Import and visualize humanoid robots from URDF descriptions","Create realistic HRI environments with lighting and physics","Implement VR telepresence interfaces for robot control"]},l="Chapter 2.3: Unity Visualization for Humanoid Robots",c={},d=[{value:"Introduction: Why Unity for Robotics?",id:"introduction-why-unity-for-robotics",level:2},{value:"1. Unity Robotics Hub Setup",id:"1-unity-robotics-hub-setup",level:2},{value:"What is Unity Robotics Hub?",id:"what-is-unity-robotics-hub",level:3},{value:"Installation Requirements",id:"installation-requirements",level:3},{value:"Step 1: Install Unity Hub and Editor",id:"step-1-install-unity-hub-and-editor",level:3},{value:"Step 2: Create Unity Project",id:"step-2-create-unity-project",level:3},{value:"Step 3: Install Unity Robotics Hub Packages",id:"step-3-install-unity-robotics-hub-packages",level:3},{value:"Step 4: Configure ROS-TCP-Endpoint (ROS 2 Side)",id:"step-4-configure-ros-tcp-endpoint-ros-2-side",level:3},{value:"Step 5: Connect Unity to ROS 2",id:"step-5-connect-unity-to-ros-2",level:3},{value:"2. Importing URDF Robots into Unity",id:"2-importing-urdf-robots-into-unity",level:2},{value:"Method 1: Direct URDF Import",id:"method-1-direct-urdf-import",level:3},{value:"Method 2: Export from Gazebo, Import to Unity",id:"method-2-export-from-gazebo-import-to-unity",level:3},{value:"Understanding Unity Robot Structure",id:"understanding-unity-robot-structure",level:3},{value:"3. Synchronizing Unity with Gazebo",id:"3-synchronizing-unity-with-gazebo",level:2},{value:"Architecture: Dual Simulation",id:"architecture-dual-simulation",level:3},{value:"Publishing Joint States from Gazebo",id:"publishing-joint-states-from-gazebo",level:3},{value:"Subscribing to Joint States in Unity",id:"subscribing-to-joint-states-in-unity",level:3},{value:"Testing Synchronization",id:"testing-synchronization",level:3},{value:"4. Creating Realistic Environments",id:"4-creating-realistic-environments",level:2},{value:"Unity Asset Store",id:"unity-asset-store",level:3},{value:"Building a Human-Robot Interaction Scene",id:"building-a-human-robot-interaction-scene",level:3},{value:"Lighting for Realism",id:"lighting-for-realism",level:3},{value:"5. Interactive UI and Dashboards",id:"5-interactive-ui-and-dashboards",level:2},{value:"Unity UI Toolkit",id:"unity-ui-toolkit",level:3},{value:"Sensor Data Visualization",id:"sensor-data-visualization",level:3},{value:"6. VR Telepresence for Robot Control",id:"6-vr-telepresence-for-robot-control",level:2},{value:"Unity XR Plugin Setup",id:"unity-xr-plugin-setup",level:3},{value:"VR Camera Setup",id:"vr-camera-setup",level:3},{value:"VR Robot Control",id:"vr-robot-control",level:3},{value:"VR First-Person View",id:"vr-first-person-view",level:3},{value:"7. Performance Optimization",id:"7-performance-optimization",level:2},{value:"Reducing Draw Calls",id:"reducing-draw-calls",level:3},{value:"Frame Rate Optimization",id:"frame-rate-optimization",level:3},{value:"Network Latency",id:"network-latency",level:3},{value:"8. Hands-On Project: Interactive HRI Demo",id:"8-hands-on-project-interactive-hri-demo",level:2},{value:"Project Goal",id:"project-goal",level:3},{value:"Step 1: Scene Setup",id:"step-1-scene-setup",level:3},{value:"Step 2: Add Cameras",id:"step-2-add-cameras",level:3},{value:"Step 3: Create UI Dashboard",id:"step-3-create-ui-dashboard",level:3},{value:"Step 4: Add Control Scripts",id:"step-4-add-control-scripts",level:3},{value:"Step 5: Test Full System",id:"step-5-test-full-system",level:3},{value:"9. Advanced Topics",id:"9-advanced-topics",level:2},{value:"Unity Machine Learning Agents (ML-Agents)",id:"unity-machine-learning-agents-ml-agents",level:3},{value:"WebGL Deployment",id:"webgl-deployment",level:3},{value:"Photogrammetry Integration",id:"photogrammetry-integration",level:3},{value:"10. Unity vs. Gazebo: When to Use Each",id:"10-unity-vs-gazebo-when-to-use-each",level:2},{value:"Summary",id:"summary",level:2},{value:"Exercises",id:"exercises",level:2},{value:"Exercise 1: Multi-Robot Visualization",id:"exercise-1-multi-robot-visualization",level:3},{value:"Exercise 2: Custom Sensor Visualization",id:"exercise-2-custom-sensor-visualization",level:3},{value:"Exercise 3: VR Teleoperation",id:"exercise-3-vr-teleoperation",level:3},{value:"Exercise 4: Web-Based Dashboard",id:"exercise-4-web-based-dashboard",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Problem: Unity Can&#39;t Connect to ROS 2",id:"problem-unity-cant-connect-to-ros-2",level:3},{value:"Problem: Robot Appears Distorted in Unity",id:"problem-robot-appears-distorted-in-unity",level:3},{value:"Problem: Joints Don&#39;t Move",id:"problem-joints-dont-move",level:3},{value:"Problem: Low Frame Rate in Unity",id:"problem-low-frame-rate-in-unity",level:3},{value:"Additional Resources",id:"additional-resources",level:2}];function a(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"chapter-23-unity-visualization-for-humanoid-robots",children:"Chapter 2.3: Unity Visualization for Humanoid Robots"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Learning Objectives:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Set up Unity with ROS 2 integration (Unity Robotics Hub)"}),"\n",(0,s.jsx)(e.li,{children:"Import and visualize humanoid robots from URDF"}),"\n",(0,s.jsx)(e.li,{children:"Create realistic environments for human-robot interaction"}),"\n",(0,s.jsx)(e.li,{children:"Synchronize Unity scenes with Gazebo physics"}),"\n",(0,s.jsx)(e.li,{children:"Implement VR/AR visualizations for telepresence"}),"\n",(0,s.jsx)(e.li,{children:"Build interactive demonstrations and user interfaces"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Estimated Time"}),": 150 minutes"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"introduction-why-unity-for-robotics",children:"Introduction: Why Unity for Robotics?"}),"\n",(0,s.jsxs)(e.p,{children:["While Gazebo excels at physics simulation, ",(0,s.jsx)(e.strong,{children:"Unity"})," provides:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Photorealistic rendering"}),": High-quality graphics for presentations and HRI"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Cross-platform support"}),": Windows, macOS, Linux, mobile, VR/AR"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Rich asset ecosystem"}),": Pre-made characters, environments, and animations"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Powerful UI tools"}),": Build control panels, dashboards, and interactive demos"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"VR/AR native support"}),": Telepresence and immersive robot control"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Common Use Cases:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Human-robot interaction research (HRI)"}),"\n",(0,s.jsx)(e.li,{children:"Marketing demos and visualizations"}),"\n",(0,s.jsx)(e.li,{children:"VR telepresence for remote robot operation"}),"\n",(0,s.jsx)(e.li,{children:"Data visualization overlays (sensor fusion, planning paths)"}),"\n",(0,s.jsx)(e.li,{children:"User studies with non-technical participants"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Architecture:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"ROS 2 (Physics) \u2190\u2192 Unity (Visualization)\r\n   Gazebo               Realistic graphics\r\n   Navigation           User interaction\r\n   Control              VR/AR interfaces\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"1-unity-robotics-hub-setup",children:"1. Unity Robotics Hub Setup"}),"\n",(0,s.jsx)(e.h3,{id:"what-is-unity-robotics-hub",children:"What is Unity Robotics Hub?"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Unity Robotics Hub"})," is Unity's official ROS integration, providing:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"ROS-TCP-Connector"}),": Bidirectional communication between Unity and ROS 2"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"URDF Importer"}),": Convert URDF robot descriptions to Unity GameObjects"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Visualization tools"}),": TF frames, sensor overlays, trajectory paths"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"installation-requirements",children:"Installation Requirements"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"System Requirements:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Unity Hub (latest version)"}),"\n",(0,s.jsx)(e.li,{children:"Unity Editor 2022.3 LTS or newer"}),"\n",(0,s.jsx)(e.li,{children:"ROS 2 Humble or Iron"}),"\n",(0,s.jsx)(e.li,{children:"Ubuntu 22.04 or Windows 10/11"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Disk Space:"})," ~10 GB for Unity + packages"]}),"\n",(0,s.jsx)(e.h3,{id:"step-1-install-unity-hub-and-editor",children:"Step 1: Install Unity Hub and Editor"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Ubuntu:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Download Unity Hub\r\nwget https://public-cdn.cloud.unity3d.com/hub/prod/UnityHub.AppImage\r\n\r\n# Make executable\r\nchmod +x UnityHub.AppImage\r\n\r\n# Run Unity Hub\r\n./UnityHub.AppImage\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Windows:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Download Unity Hub from ",(0,s.jsx)(e.a,{href:"https://unity.com/download",children:"unity.com/download"})]}),"\n",(0,s.jsx)(e.li,{children:"Run installer"}),"\n",(0,s.jsx)(e.li,{children:"Sign in or create Unity account (free for personal use)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Install Unity Editor:"})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Open Unity Hub"}),"\n",(0,s.jsx)(e.li,{children:'Go to "Installs" tab'}),"\n",(0,s.jsx)(e.li,{children:'Click "Install Editor"'}),"\n",(0,s.jsxs)(e.li,{children:["Select ",(0,s.jsx)(e.strong,{children:"Unity 2022.3 LTS"})," (Long Term Support)"]}),"\n",(0,s.jsxs)(e.li,{children:["Add modules:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Linux Build Support (if on Windows)"}),"\n",(0,s.jsx)(e.li,{children:"Windows Build Support (if on Linux)"}),"\n",(0,s.jsx)(e.li,{children:"WebGL Build Support (for browser demos)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"step-2-create-unity-project",children:"Step 2: Create Unity Project"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"In Unity Hub:"})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:'Click "New Project"'}),"\n",(0,s.jsxs)(e.li,{children:["Select template: ",(0,s.jsx)(e.strong,{children:"3D (URP)"})," (Universal Render Pipeline for better graphics)"]}),"\n",(0,s.jsxs)(e.li,{children:["Project name: ",(0,s.jsx)(e.code,{children:"HumanoidVisualization"})]}),"\n",(0,s.jsx)(e.li,{children:"Location: Choose directory"}),"\n",(0,s.jsx)(e.li,{children:'Click "Create Project"'}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Wait for project initialization"})," (~5 minutes for first project)."]}),"\n",(0,s.jsx)(e.h3,{id:"step-3-install-unity-robotics-hub-packages",children:"Step 3: Install Unity Robotics Hub Packages"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"In Unity Editor:"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"A. Install ROS-TCP-Connector:"})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["Open ",(0,s.jsx)(e.strong,{children:"Window \u2192 Package Manager"})]}),"\n",(0,s.jsxs)(e.li,{children:["Click ",(0,s.jsx)(e.strong,{children:"+ \u2192 Add package from git URL"})]}),"\n",(0,s.jsxs)(e.li,{children:["Enter: ",(0,s.jsx)(e.code,{children:"https://github.com/Unity-Technologies/ROS-TCP-Connector.git?path=/com.unity.robotics.ros-tcp-connector"})]}),"\n",(0,s.jsx)(e.li,{children:'Click "Add"'}),"\n",(0,s.jsx)(e.li,{children:"Wait for installation"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"B. Install URDF Importer:"})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["Package Manager \u2192 ",(0,s.jsx)(e.strong,{children:"+ \u2192 Add package from git URL"})]}),"\n",(0,s.jsxs)(e.li,{children:["Enter: ",(0,s.jsx)(e.code,{children:"https://github.com/Unity-Technologies/URDF-Importer.git?path=/com.unity.robotics.urdf-importer"})]}),"\n",(0,s.jsx)(e.li,{children:'Click "Add"'}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"C. Install Visualizations (optional):"})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["Package Manager \u2192 ",(0,s.jsx)(e.strong,{children:"+ \u2192 Add package from git URL"})]}),"\n",(0,s.jsxs)(e.li,{children:["Enter: ",(0,s.jsx)(e.code,{children:"https://github.com/Unity-Technologies/ROS-TCP-Connector.git?path=/com.unity.robotics.visualizations"})]}),"\n",(0,s.jsx)(e.li,{children:'Click "Add"'}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"step-4-configure-ros-tcp-endpoint-ros-2-side",children:"Step 4: Configure ROS-TCP-Endpoint (ROS 2 Side)"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"On Ubuntu (ROS 2 machine):"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Create workspace (if not exists)\r\nmkdir -p ~/ros2_unity_ws/src\r\ncd ~/ros2_unity_ws/src\r\n\r\n# Clone ROS-TCP-Endpoint\r\ngit clone https://github.com/Unity-Technologies/ROS-TCP-Endpoint.git\r\n\r\n# Build\r\ncd ~/ros2_unity_ws\r\ncolcon build --packages-select ros_tcp_endpoint\r\n\r\n# Source workspace\r\nsource install/setup.bash\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Launch ROS-TCP-Endpoint:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"ros2 run ros_tcp_endpoint default_server_endpoint --ros-args -p ROS_IP:=0.0.0.0\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Expected output:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"[INFO] [ros_tcp_endpoint]: ROS-TCP-Endpoint starting on 0.0.0.0:10000\n"})}),"\n",(0,s.jsx)(e.p,{children:"This server bridges Unity and ROS 2 topics."}),"\n",(0,s.jsx)(e.h3,{id:"step-5-connect-unity-to-ros-2",children:"Step 5: Connect Unity to ROS 2"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"In Unity Editor:"})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"Robotics \u2192 ROS Settings"})}),"\n",(0,s.jsxs)(e.li,{children:["Set parameters:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"ROS IP Address"}),": ",(0,s.jsx)(e.code,{children:"127.0.0.1"})," (localhost, or your ROS machine IP)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"ROS Port"}),": ",(0,s.jsx)(e.code,{children:"10000"})," (default)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Protocol"}),": ",(0,s.jsx)(e.code,{children:"ROS2"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:'Click "Test Connection"'}),"\n",(0,s.jsxs)(e.li,{children:["Should see: ",(0,s.jsx)(e.strong,{children:'"Connection successful!"'})]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Troubleshooting connection issues:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Firewall blocking port 10000? Add exception"}),"\n",(0,s.jsx)(e.li,{children:"ROS machine on different network? Use correct IP address"}),"\n",(0,s.jsx)(e.li,{children:"ROS-TCP-Endpoint running? Check terminal for server logs"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"2-importing-urdf-robots-into-unity",children:"2. Importing URDF Robots into Unity"}),"\n",(0,s.jsx)(e.h3,{id:"method-1-direct-urdf-import",children:"Method 1: Direct URDF Import"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"In Unity:"})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"Assets \u2192 Import Robot from URDF"})}),"\n",(0,s.jsxs)(e.li,{children:["Browse to your humanoid URDF file (e.g., ",(0,s.jsx)(e.code,{children:"humanoid_full.urdf"}),")"]}),"\n",(0,s.jsxs)(e.li,{children:["Import settings:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Axis Type"}),": Y Axis (Unity uses Y-up, ROS uses Z-up)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Mesh Decomposer"}),": VHACD (for collision meshes)"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:'Click "Import"'}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Result:"})," Robot appears in scene as a GameObject with:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Links as child GameObjects"}),"\n",(0,s.jsx)(e.li,{children:"Joints as ArticulationBody components (Unity physics)"}),"\n",(0,s.jsx)(e.li,{children:"Meshes rendered with materials"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"method-2-export-from-gazebo-import-to-unity",children:"Method 2: Export from Gazebo, Import to Unity"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Step 1: Spawn robot in Gazebo"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"ros2 launch your_package spawn_humanoid.launch.py\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Step 2: Export URDF with mesh paths"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Generate URDF with resolved mesh paths\r\nros2 run xacro xacro robot.urdf.xacro > robot_resolved.urdf\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Step 3: Copy meshes to Unity"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Copy entire robot package to Unity Assets folder\r\ncp -r ~/ros2_ws/src/your_robot_package ~/unity_project/Assets/Robots/\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Step 4: Import in Unity"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Assets \u2192 Import Robot from URDF"}),"\n",(0,s.jsxs)(e.li,{children:["Select ",(0,s.jsx)(e.code,{children:"robot_resolved.urdf"})]}),"\n",(0,s.jsx)(e.li,{children:"Meshes will be found automatically"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"understanding-unity-robot-structure",children:"Understanding Unity Robot Structure"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Unity Hierarchy:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"humanoid_robot (GameObject)\r\n\u251c\u2500\u2500 base_link (ArticulationBody)\r\n\u2502   \u251c\u2500\u2500 torso (ArticulationBody)\r\n\u2502   \u2502   \u251c\u2500\u2500 head (ArticulationBody)\r\n\u2502   \u2502   \u251c\u2500\u2500 left_shoulder (ArticulationBody)\r\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 left_elbow (ArticulationBody)\r\n\u2502   \u2502   \u2514\u2500\u2500 right_shoulder (ArticulationBody)\r\n\u2502   \u251c\u2500\u2500 left_hip (ArticulationBody)\r\n\u2502   \u2502   \u251c\u2500\u2500 left_knee (ArticulationBody)\r\n\u2502   \u2502   \u2514\u2500\u2500 left_ankle (ArticulationBody)\r\n\u2502   \u2514\u2500\u2500 right_hip (ArticulationBody)\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"ArticulationBody"})," is Unity's component for robotic joints:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Replaces older Rigidbody for multi-joint robots"}),"\n",(0,s.jsx)(e.li,{children:"Supports all URDF joint types"}),"\n",(0,s.jsx)(e.li,{children:"Better stability for kinematic chains"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"3-synchronizing-unity-with-gazebo",children:"3. Synchronizing Unity with Gazebo"}),"\n",(0,s.jsx)(e.h3,{id:"architecture-dual-simulation",children:"Architecture: Dual Simulation"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Two-way synchronization:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"Gazebo (Physics Authority)\r\n    \u2193 Joint states\r\nUnity (Visualization)\r\n    \u2191 Teleop commands\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Use case:"})," Run physics in Gazebo (accurate), display in Unity (beautiful)."]}),"\n",(0,s.jsx)(e.h3,{id:"publishing-joint-states-from-gazebo",children:"Publishing Joint States from Gazebo"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"ROS 2 node to bridge joint states:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"#!/usr/bin/env python3\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom sensor_msgs.msg import JointState\r\nfrom ros_tcp_endpoint import UnityMessage\r\n\r\nclass GazeboUnityBridge(Node):\r\n    def __init__(self):\r\n        super().__init__('gazebo_unity_bridge')\r\n\r\n        # Subscribe to Gazebo joint states\r\n        self.joint_sub = self.create_subscription(\r\n            JointState,\r\n            '/joint_states',\r\n            self.joint_callback,\r\n            10\r\n        )\r\n\r\n        # Publisher for Unity\r\n        self.unity_pub = self.create_publisher(\r\n            JointState,\r\n            '/unity/joint_states',\r\n            10\r\n        )\r\n\r\n        self.get_logger().info('Gazebo-Unity bridge started')\r\n\r\n    def joint_callback(self, msg):\r\n        # Forward joint states to Unity\r\n        self.unity_pub.publish(msg)\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    node = GazeboUnityBridge()\r\n    try:\r\n        rclpy.spin(node)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    node.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,s.jsx)(e.h3,{id:"subscribing-to-joint-states-in-unity",children:"Subscribing to Joint States in Unity"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsxs)(e.strong,{children:["Unity C# Script: ",(0,s.jsx)(e.code,{children:"JointStateSubscriber.cs"})]})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'using UnityEngine;\r\nusing Unity.Robotics.ROSTCPConnector;\r\nusing RosMessageTypes.Sensor;\r\n\r\npublic class JointStateSubscriber : MonoBehaviour\r\n{\r\n    private ROSConnection ros;\r\n    private ArticulationBody[] articulationBodies;\r\n\r\n    void Start()\r\n    {\r\n        // Get ROS connection\r\n        ros = ROSConnection.GetOrCreateInstance();\r\n        ros.Subscribe<JointStateMsg>("/unity/joint_states", UpdateJointStates);\r\n\r\n        // Get all articulation bodies in robot\r\n        articulationBodies = GetComponentsInChildren<ArticulationBody>();\r\n\r\n        Debug.Log($"Found {articulationBodies.Length} articulation bodies");\r\n    }\r\n\r\n    void UpdateJointStates(JointStateMsg msg)\r\n    {\r\n        // Match joint names and update positions\r\n        for (int i = 0; i < msg.name.Length; i++)\r\n        {\r\n            string jointName = msg.name[i];\r\n            float position = (float)msg.position[i];\r\n\r\n            // Find matching articulation body\r\n            foreach (var body in articulationBodies)\r\n            {\r\n                if (body.name == jointName)\r\n                {\r\n                    // Set joint target position\r\n                    var drive = body.xDrive;\r\n                    drive.target = position * Mathf.Rad2Deg; // Convert rad to deg\r\n                    body.xDrive = drive;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Attach script to robot root GameObject"})," in Unity."]}),"\n",(0,s.jsx)(e.h3,{id:"testing-synchronization",children:"Testing Synchronization"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Terminal 1:"})," Launch Gazebo"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"ros2 launch your_package spawn_humanoid.launch.py\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Terminal 2:"})," Run bridge node"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"python3 gazebo_unity_bridge.py\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Terminal 3:"})," Start ROS-TCP-Endpoint"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"ros2 run ros_tcp_endpoint default_server_endpoint\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Unity:"})," Press Play button"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Result:"})," Unity robot should mirror Gazebo robot movements."]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"4-creating-realistic-environments",children:"4. Creating Realistic Environments"}),"\n",(0,s.jsx)(e.h3,{id:"unity-asset-store",children:"Unity Asset Store"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Access free assets:"})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["Open ",(0,s.jsx)(e.strong,{children:"Window \u2192 Asset Store"})]}),"\n",(0,s.jsxs)(e.li,{children:["Search for:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:'"Indoor office" (office environments)'}),"\n",(0,s.jsx)(e.li,{children:'"Modular sci-fi" (futuristic labs)'}),"\n",(0,s.jsx)(e.li,{children:'"Nature starter kit" (outdoor scenes)'}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:'Click "Add to My Assets" \u2192 "Import"'}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Recommended free packages:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Polygonal Environments"}),": Low-poly stylized worlds"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Standard Assets"}),": Furniture, props, characters"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Skybox Series"}),": Realistic skies"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"building-a-human-robot-interaction-scene",children:"Building a Human-Robot Interaction Scene"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Example: Home Environment for Service Robot"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Step 1: Create floor and walls"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"1. GameObject \u2192 3D Object \u2192 Plane (floor)\r\n   - Scale: (5, 1, 5) for 50m x 50m room\r\n   - Material: Wood or tile texture\r\n\r\n2. GameObject \u2192 3D Object \u2192 Cube (walls)\r\n   - Create 4 cubes for walls\r\n   - Position around floor perimeter\r\n   - Scale: (0.1, 3, 10) for thin walls\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Step 2: Add furniture"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"1. Import furniture assets from Asset Store\r\n2. Drag prefabs into scene:\r\n   - Tables at (2, 0, 2)\r\n   - Chairs at (2, 0, 2.5)\r\n   - Shelves at (-3, 0, -3)\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Step 3: Add lighting"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"1. GameObject \u2192 Light \u2192 Directional Light (sunlight)\r\n   - Rotation: (50, -30, 0)\r\n   - Intensity: 1.5\r\n\r\n2. GameObject \u2192 Light \u2192 Point Light (ceiling lights)\r\n   - Position: (0, 3, 0)\r\n   - Range: 10\r\n   - Intensity: 5\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Step 4: Add human characters"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'1. Asset Store \u2192 Search "Animated Character"\r\n2. Import and add to scene\r\n3. Use Animator component for walking/sitting animations\n'})}),"\n",(0,s.jsx)(e.h3,{id:"lighting-for-realism",children:"Lighting for Realism"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Global Illumination:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"Window \u2192 Rendering \u2192 Lighting Settings"})}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Realtime Global Illumination"}),": On (for dynamic lighting)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Baked Global Illumination"}),": On (for static objects)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Auto Generate"}),": Click to bake lighting"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Post-Processing (URP):"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"1. GameObject \u2192 Volume \u2192 Global Volume\r\n2. Add Override \u2192 Bloom (glow effects)\r\n3. Add Override \u2192 Ambient Occlusion (shadows in corners)\r\n4. Add Override \u2192 Color Grading (adjust mood)\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Result:"})," Studio-quality rendering."]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"5-interactive-ui-and-dashboards",children:"5. Interactive UI and Dashboards"}),"\n",(0,s.jsx)(e.h3,{id:"unity-ui-toolkit",children:"Unity UI Toolkit"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Create a robot control panel:"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Step 1: Create Canvas"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"1. GameObject \u2192 UI \u2192 Canvas\r\n2. Canvas settings:\r\n   - Render Mode: Screen Space - Overlay\r\n   - UI Scale Mode: Scale With Screen Size\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Step 2: Add control elements"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'1. Right-click Canvas \u2192 UI \u2192 Button\r\n   - Text: "Move Forward"\r\n   - Position: (100, -50, 0)\r\n\r\n2. Right-click Canvas \u2192 UI \u2192 Slider\r\n   - Name: "Speed Control"\r\n   - Min Value: 0\r\n   - Max Value: 2\r\n   - Value: 0.5\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Step 3: Add script to handle button clicks"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"RobotControlPanel.cs"}),":"]})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'using UnityEngine;\r\nusing UnityEngine.UI;\r\nusing Unity.Robotics.ROSTCPConnector;\r\nusing RosMessageTypes.Geometry;\r\n\r\npublic class RobotControlPanel : MonoBehaviour\r\n{\r\n    public Button moveForwardButton;\r\n    public Slider speedSlider;\r\n    private ROSConnection ros;\r\n    private string topicName = "/cmd_vel";\r\n\r\n    void Start()\r\n    {\r\n        ros = ROSConnection.GetOrCreateInstance();\r\n        ros.RegisterPublisher<TwistMsg>(topicName);\r\n\r\n        // Attach button click handler\r\n        moveForwardButton.onClick.AddListener(SendMoveForwardCommand);\r\n    }\r\n\r\n    void SendMoveForwardCommand()\r\n    {\r\n        float speed = speedSlider.value;\r\n\r\n        TwistMsg msg = new TwistMsg\r\n        {\r\n            linear = new Vector3Msg { x = speed, y = 0, z = 0 },\r\n            angular = new Vector3Msg { x = 0, y = 0, z = 0 }\r\n        };\r\n\r\n        ros.Publish(topicName, msg);\r\n        Debug.Log($"Sent move forward command: {speed} m/s");\r\n    }\r\n}\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Attach script to Canvas"})," and link Button and Slider in Inspector."]}),"\n",(0,s.jsx)(e.h3,{id:"sensor-data-visualization",children:"Sensor Data Visualization"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Display IMU data in UI:"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"IMUDisplay.cs"}),":"]})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'using UnityEngine;\r\nusing UnityEngine.UI;\r\nusing Unity.Robotics.ROSTCPConnector;\r\nusing RosMessageTypes.Sensor;\r\n\r\npublic class IMUDisplay : MonoBehaviour\r\n{\r\n    public Text rollText;\r\n    public Text pitchText;\r\n    public Text yawText;\r\n    private ROSConnection ros;\r\n\r\n    void Start()\r\n    {\r\n        ros = ROSConnection.GetOrCreateInstance();\r\n        ros.Subscribe<ImuMsg>("/humanoid/imu", UpdateIMUDisplay);\r\n    }\r\n\r\n    void UpdateIMUDisplay(ImuMsg msg)\r\n    {\r\n        // Convert quaternion to Euler angles\r\n        Quaternion q = new Quaternion(\r\n            (float)msg.orientation.x,\r\n            (float)msg.orientation.y,\r\n            (float)msg.orientation.z,\r\n            (float)msg.orientation.w\r\n        );\r\n\r\n        Vector3 euler = q.eulerAngles;\r\n\r\n        // Update UI text\r\n        rollText.text = $"Roll: {euler.x:F1}\xb0";\r\n        pitchText.text = $"Pitch: {euler.y:F1}\xb0";\r\n        yawText.text = $"Yaw: {euler.z:F1}\xb0";\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"UI Setup:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"1. Canvas \u2192 UI \u2192 Text (x3 for roll, pitch, yaw)\r\n2. Attach IMUDisplay.cs to Canvas\r\n3. Drag Text elements to script fields in Inspector\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"6-vr-telepresence-for-robot-control",children:"6. VR Telepresence for Robot Control"}),"\n",(0,s.jsx)(e.h3,{id:"unity-xr-plugin-setup",children:"Unity XR Plugin Setup"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Install VR support:"})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"Edit \u2192 Project Settings \u2192 XR Plug-in Management"})}),"\n",(0,s.jsxs)(e.li,{children:["Check platforms:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Oculus"})," (Meta Quest)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"OpenVR"})," (HTC Vive, Valve Index)"]}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"Windows Mixed Reality"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:'Click "Install XR Plugin Management"'}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"vr-camera-setup",children:"VR Camera Setup"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Replace main camera with VR rig:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"1. Delete Main Camera\r\n2. GameObject \u2192 XR \u2192 XR Origin (Action-based)\r\n   - Includes camera, left/right controllers\r\n3. Add tracked pose driver components (automatic)\n"})}),"\n",(0,s.jsx)(e.h3,{id:"vr-robot-control",children:"VR Robot Control"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Control robot with VR hand controllers:"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"VRRobotControl.cs"}),":"]})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'using UnityEngine;\r\nusing UnityEngine.XR;\r\nusing Unity.Robotics.ROSTCPConnector;\r\nusing RosMessageTypes.Geometry;\r\n\r\npublic class VRRobotControl : MonoBehaviour\r\n{\r\n    private ROSConnection ros;\r\n    private string topicName = "/cmd_vel";\r\n\r\n    void Start()\r\n    {\r\n        ros = ROSConnection.GetOrCreateInstance();\r\n        ros.RegisterPublisher<TwistMsg>(topicName);\r\n    }\r\n\r\n    void Update()\r\n    {\r\n        // Get right controller joystick input\r\n        InputDevice rightController = InputDevices.GetDeviceAtXRNode(XRNode.RightHand);\r\n\r\n        Vector2 joystick;\r\n        if (rightController.TryGetFeatureValue(CommonUsages.primary2DAxis, out joystick))\r\n        {\r\n            // Send velocity command\r\n            TwistMsg msg = new TwistMsg\r\n            {\r\n                linear = new Vector3Msg { x = joystick.y, y = 0, z = 0 },\r\n                angular = new Vector3Msg { x = 0, y = 0, z = joystick.x }\r\n            };\r\n\r\n            ros.Publish(topicName, msg);\r\n        }\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Attach to XR Origin GameObject."})}),"\n",(0,s.jsx)(e.h3,{id:"vr-first-person-view",children:"VR First-Person View"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Stream robot camera feed to VR headset:"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Step 1: Subscribe to camera topic in Unity"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'using UnityEngine;\r\nusing Unity.Robotics.ROSTCPConnector;\r\nusing RosMessageTypes.Sensor;\r\n\r\npublic class RobotCameraDisplay : MonoBehaviour\r\n{\r\n    private ROSConnection ros;\r\n    public Renderer displayRenderer; // Quad or plane to show image\r\n\r\n    void Start()\r\n    {\r\n        ros = ROSConnection.GetOrCreateInstance();\r\n        ros.Subscribe<ImageMsg>("/humanoid/camera/image_raw", UpdateCameraFeed);\r\n    }\r\n\r\n    void UpdateCameraFeed(ImageMsg msg)\r\n    {\r\n        // Convert ROS image to Unity texture\r\n        Texture2D tex = new Texture2D((int)msg.width, (int)msg.height, TextureFormat.RGB24, false);\r\n        tex.LoadRawTextureData(msg.data);\r\n        tex.Apply();\r\n\r\n        // Display on renderer\r\n        displayRenderer.material.mainTexture = tex;\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Step 2: Create display in VR"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"1. GameObject \u2192 3D Object \u2192 Quad\r\n2. Position in VR space (e.g., floating screen)\r\n3. Attach RobotCameraDisplay.cs\r\n4. Link Quad's Renderer in Inspector\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"7-performance-optimization",children:"7. Performance Optimization"}),"\n",(0,s.jsx)(e.h3,{id:"reducing-draw-calls",children:"Reducing Draw Calls"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Batching:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Static objects: Enable ",(0,s.jsx)(e.strong,{children:"Static"})," flag in Inspector"]}),"\n",(0,s.jsx)(e.li,{children:"Dynamic batching: Edit \u2192 Project Settings \u2192 Player \u2192 Other Settings \u2192 Dynamic Batching"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"LOD (Level of Detail):"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"1. Select robot mesh\r\n2. Add Component \u2192 LOD Group\r\n3. Add LOD levels:\r\n   - LOD0: Full detail (close-up)\r\n   - LOD1: Medium detail\r\n   - LOD2: Low detail (distant)\n"})}),"\n",(0,s.jsx)(e.h3,{id:"frame-rate-optimization",children:"Frame Rate Optimization"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Target frame rate:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"void Start()\r\n{\r\n    Application.targetFrameRate = 60; // Cap at 60 FPS\r\n    QualitySettings.vSyncCount = 1;   // Sync to monitor refresh\r\n}\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Profiler:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"Window \u2192 Analysis \u2192 Profiler"})}),"\n",(0,s.jsx)(e.li,{children:"Identify bottlenecks (CPU, GPU, rendering)"}),"\n",(0,s.jsx)(e.li,{children:"Optimize heavy scripts or meshes"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"network-latency",children:"Network Latency"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"ROS-TCP-Connector settings:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Reduce message frequency for non-critical topics"}),"\n",(0,s.jsx)(e.li,{children:"Use QoS settings (best effort vs. reliable)"}),"\n",(0,s.jsx)(e.li,{children:"Compress large messages (images, point clouds)"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"8-hands-on-project-interactive-hri-demo",children:"8. Hands-On Project: Interactive HRI Demo"}),"\n",(0,s.jsx)(e.h3,{id:"project-goal",children:"Project Goal"}),"\n",(0,s.jsx)(e.p,{children:"Create a demonstration where a user can:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Control a humanoid robot in a home environment"}),"\n",(0,s.jsx)(e.li,{children:"See sensor data in real-time dashboard"}),"\n",(0,s.jsx)(e.li,{children:"Switch between third-person and first-person (robot POV) views"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"step-1-scene-setup",children:"Step 1: Scene Setup"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Create environment:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'1. Import "Simple Home Interior" from Asset Store\r\n2. Add humanoid robot (URDF import)\r\n3. Position at (0, 0, 0)\n'})}),"\n",(0,s.jsx)(e.h3,{id:"step-2-add-cameras",children:"Step 2: Add Cameras"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Camera 1: Third-Person (default)"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"- Position: (5, 3, -5)\r\n- Rotation: (20, -30, 0)\r\n- Look at robot\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Camera 2: First-Person (robot POV)"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"- Attach to robot head link\r\n- Position: (0.1, 0, 0) relative to head\r\n- Forward direction: Z-axis\n"})}),"\n",(0,s.jsx)(e.h3,{id:"step-3-create-ui-dashboard",children:"Step 3: Create UI Dashboard"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Canvas with:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Speed slider (0-2 m/s)"}),"\n",(0,s.jsx)(e.li,{children:"Direction buttons (Forward, Back, Left, Right, Stop)"}),"\n",(0,s.jsx)(e.li,{children:"IMU readout (roll, pitch, yaw)"}),"\n",(0,s.jsx)(e.li,{children:"Camera feed display"}),"\n",(0,s.jsx)(e.li,{children:"Camera switch button"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"step-4-add-control-scripts",children:"Step 4: Add Control Scripts"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Combine previous scripts:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"JointStateSubscriber.cs"})," (sync with Gazebo)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"RobotControlPanel.cs"})," (UI controls)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"IMUDisplay.cs"})," (sensor data)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"CameraSwitcher.cs"})," (toggle views)"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"CameraSwitcher.cs"}),":"]})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'using UnityEngine;\r\nusing UnityEngine.UI;\r\n\r\npublic class CameraSwitcher : MonoBehaviour\r\n{\r\n    public Camera thirdPersonCamera;\r\n    public Camera firstPersonCamera;\r\n    public Button switchButton;\r\n\r\n    private bool isFirstPerson = false;\r\n\r\n    void Start()\r\n    {\r\n        switchButton.onClick.AddListener(SwitchCamera);\r\n        SetActiveCamera(thirdPersonCamera);\r\n    }\r\n\r\n    void SwitchCamera()\r\n    {\r\n        isFirstPerson = !isFirstPerson;\r\n\r\n        if (isFirstPerson)\r\n        {\r\n            SetActiveCamera(firstPersonCamera);\r\n            switchButton.GetComponentInChildren<Text>().text = "Third Person";\r\n        }\r\n        else\r\n        {\r\n            SetActiveCamera(thirdPersonCamera);\r\n            switchButton.GetComponentInChildren<Text>().text = "First Person";\r\n        }\r\n    }\r\n\r\n    void SetActiveCamera(Camera cam)\r\n    {\r\n        thirdPersonCamera.enabled = (cam == thirdPersonCamera);\r\n        firstPersonCamera.enabled = (cam == firstPersonCamera);\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"step-5-test-full-system",children:"Step 5: Test Full System"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Terminal 1:"})," Gazebo simulation"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"ros2 launch your_package spawn_humanoid.launch.py\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Terminal 2:"})," ROS-TCP-Endpoint"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"ros2 run ros_tcp_endpoint default_server_endpoint\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Unity:"})," Press Play"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Test:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Click direction buttons \u2192 robot moves in Gazebo and Unity"}),"\n",(0,s.jsx)(e.li,{children:"Adjust speed slider \u2192 movement speed changes"}),"\n",(0,s.jsx)(e.li,{children:'Click "First Person" \u2192 see robot\'s view'}),"\n",(0,s.jsx)(e.li,{children:"IMU display updates in real-time"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"9-advanced-topics",children:"9. Advanced Topics"}),"\n",(0,s.jsx)(e.h3,{id:"unity-machine-learning-agents-ml-agents",children:"Unity Machine Learning Agents (ML-Agents)"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Train robots with reinforcement learning:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Install ML-Agents Toolkit: ",(0,s.jsx)(e.code,{children:"pip install mlagents"})]}),"\n",(0,s.jsx)(e.li,{children:"Define observations (sensor inputs)"}),"\n",(0,s.jsx)(e.li,{children:"Define actions (joint commands)"}),"\n",(0,s.jsx)(e.li,{children:"Define rewards (task completion)"}),"\n",(0,s.jsx)(e.li,{children:"Train with PPO algorithm"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Use case:"})," Train walking gaits in Unity, deploy to real robot."]}),"\n",(0,s.jsx)(e.h3,{id:"webgl-deployment",children:"WebGL Deployment"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Build for browser:"})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"File \u2192 Build Settings"})}),"\n",(0,s.jsxs)(e.li,{children:["Select ",(0,s.jsx)(e.strong,{children:"WebGL"})," platform"]}),"\n",(0,s.jsx)(e.li,{children:'Click "Build"'}),"\n",(0,s.jsx)(e.li,{children:"Upload to web server or Unity Play"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Use case:"})," Public-facing demos, no installation required."]}),"\n",(0,s.jsx)(e.h3,{id:"photogrammetry-integration",children:"Photogrammetry Integration"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Use real-world scans:"})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Capture environment with smartphone (apps: Polycam, RealityScan)"}),"\n",(0,s.jsx)(e.li,{children:"Export as OBJ or FBX mesh"}),"\n",(0,s.jsx)(e.li,{children:"Import to Unity Assets"}),"\n",(0,s.jsx)(e.li,{children:"Add colliders for physics"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Use case:"})," Train robots in digital twins of real spaces."]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"10-unity-vs-gazebo-when-to-use-each",children:"10. Unity vs. Gazebo: When to Use Each"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Feature"}),(0,s.jsx)(e.th,{children:"Gazebo"}),(0,s.jsx)(e.th,{children:"Unity"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Physics accuracy"})}),(0,s.jsx)(e.td,{children:"\u2705 Excellent (ODE, Bullet)"}),(0,s.jsx)(e.td,{children:"\u26a0\ufe0f Good (PhysX, ArticulationBody)"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Graphics quality"})}),(0,s.jsx)(e.td,{children:"\u26a0\ufe0f Basic"}),(0,s.jsx)(e.td,{children:"\u2705 Photorealistic (URP, HDRP)"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"ROS integration"})}),(0,s.jsx)(e.td,{children:"\u2705 Native"}),(0,s.jsx)(e.td,{children:"\u26a0\ufe0f Via ROS-TCP-Connector"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"VR/AR support"})}),(0,s.jsx)(e.td,{children:"\u274c None"}),(0,s.jsx)(e.td,{children:"\u2705 Native"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Sensor simulation"})}),(0,s.jsx)(e.td,{children:"\u2705 Extensive plugins"}),(0,s.jsx)(e.td,{children:"\u26a0\ufe0f Limited (requires custom)"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Cross-platform"})}),(0,s.jsx)(e.td,{children:"\ud83d\udc27 Linux primary"}),(0,s.jsx)(e.td,{children:"\u2705 Windows, macOS, Linux, mobile"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Learning curve"})}),(0,s.jsx)(e.td,{children:"\u26a0\ufe0f Moderate (roboticists)"}),(0,s.jsx)(e.td,{children:"\u26a0\ufe0f Moderate (game developers)"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Best for"})}),(0,s.jsx)(e.td,{children:"Algorithm development"}),(0,s.jsx)(e.td,{children:"Visualization, HRI, demos"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Hybrid Approach (Recommended):"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Gazebo"}),": Physics simulation, control development"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Unity"}),": Visualization, user interfaces, VR telepresence"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Bridge"}),": ROS-TCP-Connector for real-time sync"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsx)(e.p,{children:"You've learned to use Unity for humanoid robot visualization:"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Unity Robotics Hub:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"ROS-TCP-Connector for bidirectional ROS 2 communication"}),"\n",(0,s.jsx)(e.li,{children:"URDF Importer to bring robots from ROS to Unity"}),"\n",(0,s.jsx)(e.li,{children:"ArticulationBody for physics-based joint control"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Synchronization:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Bridge joint states from Gazebo to Unity"}),"\n",(0,s.jsx)(e.li,{children:"Publish commands from Unity to ROS 2"}),"\n",(0,s.jsx)(e.li,{children:"Maintain Gazebo as physics authority"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Realistic Environments:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Asset Store for pre-made environments"}),"\n",(0,s.jsx)(e.li,{children:"Lighting and post-processing for photorealism"}),"\n",(0,s.jsx)(e.li,{children:"Human characters for HRI simulations"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Interactive UIs:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Unity UI Toolkit for control panels"}),"\n",(0,s.jsx)(e.li,{children:"Real-time sensor data displays"}),"\n",(0,s.jsx)(e.li,{children:"Custom dashboards for demos"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"VR/AR:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"XR Plugin Management for VR headset support"}),"\n",(0,s.jsx)(e.li,{children:"First-person robot control with hand controllers"}),"\n",(0,s.jsx)(e.li,{children:"Camera feed streaming to VR displays"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Best Practices:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Use Unity for visualization, Gazebo for physics"}),"\n",(0,s.jsx)(e.li,{children:"Optimize performance (LOD, batching, frame caps)"}),"\n",(0,s.jsx)(e.li,{children:"Test with real ROS 2 workflows before deployment"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"exercises",children:"Exercises"}),"\n",(0,s.jsx)(e.h3,{id:"exercise-1-multi-robot-visualization",children:"Exercise 1: Multi-Robot Visualization"}),"\n",(0,s.jsx)(e.p,{children:"Import two humanoid robots into Unity scene:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Robot 1 at (2, 0, 0)"}),"\n",(0,s.jsx)(e.li,{children:"Robot 2 at (-2, 0, 0)"}),"\n",(0,s.jsx)(e.li,{children:"Subscribe to separate joint state topics"}),"\n",(0,s.jsx)(e.li,{children:"Control independently"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Test:"})," Make them wave at each other."]}),"\n",(0,s.jsx)(e.h3,{id:"exercise-2-custom-sensor-visualization",children:"Exercise 2: Custom Sensor Visualization"}),"\n",(0,s.jsx)(e.p,{children:"Create a script that:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Subscribes to ",(0,s.jsx)(e.code,{children:"/humanoid/scan"})," (LiDAR)"]}),"\n",(0,s.jsx)(e.li,{children:"Draws laser rays as LineRenderer in Unity"}),"\n",(0,s.jsx)(e.li,{children:"Colors rays red when obstacle detected (<1m)"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Hint:"})," Use ",(0,s.jsx)(e.code,{children:"LineRenderer"})," component with dynamic vertex count."]}),"\n",(0,s.jsx)(e.h3,{id:"exercise-3-vr-teleoperation",children:"Exercise 3: VR Teleoperation"}),"\n",(0,s.jsx)(e.p,{children:"Set up full VR control:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Left joystick: Robot movement (linear, angular)"}),"\n",(0,s.jsx)(e.li,{children:"Right trigger: Open/close gripper"}),"\n",(0,s.jsx)(e.li,{children:"Head pose: Control robot head orientation"}),"\n",(0,s.jsx)(e.li,{children:"Display first-person camera feed in VR"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Test:"})," Pick up an object in VR."]}),"\n",(0,s.jsx)(e.h3,{id:"exercise-4-web-based-dashboard",children:"Exercise 4: Web-Based Dashboard"}),"\n",(0,s.jsx)(e.p,{children:"Build a WebGL application that:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Shows robot in 3D environment"}),"\n",(0,s.jsx)(e.li,{children:"Has control buttons (browser UI)"}),"\n",(0,s.jsx)(e.li,{children:"Connects to ROS 2 via WebSocket (rosbridge)"}),"\n",(0,s.jsx)(e.li,{children:"Runs in browser without installation"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(e.h3,{id:"problem-unity-cant-connect-to-ros-2",children:"Problem: Unity Can't Connect to ROS 2"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Check:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Is ROS-TCP-Endpoint running?\r\nros2 node list | grep tcp_endpoint\r\n\r\n# Is port 10000 open?\r\nsudo netstat -tuln | grep 10000\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Solutions:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Restart ROS-TCP-Endpoint"}),"\n",(0,s.jsx)(e.li,{children:"Check firewall settings"}),"\n",(0,s.jsx)(e.li,{children:"Verify IP address in Unity ROS Settings"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"problem-robot-appears-distorted-in-unity",children:"Problem: Robot Appears Distorted in Unity"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Cause:"})," URDF axis mismatch (ROS uses Z-up, Unity uses Y-up)"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Solution:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Re-import URDF with ",(0,s.jsx)(e.strong,{children:"Axis Type: Y Axis"})]}),"\n",(0,s.jsx)(e.li,{children:"Or rotate root GameObject by -90\xb0 around X-axis"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"problem-joints-dont-move",children:"Problem: Joints Don't Move"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Check:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'// In JointStateSubscriber.cs, add debug:\r\nDebug.Log($"Received joint: {jointName} at {position}");\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Common issues:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Joint names don't match between URDF and messages"}),"\n",(0,s.jsx)(e.li,{children:"Drive limits too restrictive"}),"\n",(0,s.jsx)(e.li,{children:'ArticulationBody locked (check "Immovable" flag)'}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"problem-low-frame-rate-in-unity",children:"Problem: Low Frame Rate in Unity"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Solutions:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Reduce mesh complexity (use LOD)"}),"\n",(0,s.jsx)(e.li,{children:"Lower camera resolution"}),"\n",(0,s.jsx)(e.li,{children:"Disable shadows on non-critical objects"}),"\n",(0,s.jsx)(e.li,{children:"Use Profiler to find bottlenecks"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Unity Robotics Hub:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://github.com/Unity-Technologies/Unity-Robotics-Hub",children:"GitHub Repository"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://github.com/Unity-Technologies/Unity-Robotics-Hub/blob/main/tutorials/README.md",children:"Tutorials"})}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Unity Documentation:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://docs.unity3d.com/Packages/com.unity.xr.interaction.toolkit@latest",children:"XR Interaction Toolkit"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://docs.unity3d.com/ScriptReference/ArticulationBody.html",children:"ArticulationBody API"})}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Community:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://forum.unity.com/forums/robotics.617/",children:"Unity Robotics Forum"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://discourse.ros.org/tag/unity",children:"ROS Discourse - Unity"})}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Videos:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:'"ROS 2 + Unity Integration Tutorial" (Unity YouTube)'}),"\n",(0,s.jsx)(e.li,{children:'"Building VR Robot Telepresence in Unity"'}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Next Module"}),": Module 3: NVIDIA Isaac Platform - coming soon"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Previous Chapter"}),": ",(0,s.jsx)(e.a,{href:"/physical-ai-textbook/docs/module2-simulation/ch2-sensor-simulation",children:"2.2 Sensor Simulation"})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Module Navigation"}),": ",(0,s.jsx)(e.a,{href:"/physical-ai-textbook/docs/intro",children:"Course Home"})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Estimated Completion Time"}),": 2.5 hours\r\n",(0,s.jsx)(e.strong,{children:"Prerequisites"}),": Module 1, Chapters 2.1-2.2, Unity Editor installed\r\n",(0,s.jsx)(e.strong,{children:"Difficulty"}),": Intermediate to Advanced"]})]})}function h(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(a,{...n})}):a(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>o,x:()=>l});var r=i(6540);const s={},t=r.createContext(s);function o(n){const e=r.useContext(t);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:o(n.components),r.createElement(t.Provider,{value:e},n.children)}}}]);