"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics=globalThis.webpackChunkphysical_ai_humanoid_robotics||[]).push([[99],{7349:(n,e,a)=>{a.r(e),a.d(e,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"module3-isaac/ch3-navigation-humanoids","title":"Navigation for Humanoids: Bipedal Path Planning with Nav2","description":"Learn Nav2 navigation stack for humanoid robots including bipedal motion constraints, dynamic obstacle avoidance, and integration with Isaac ROS perception for autonomous indoor navigation.","source":"@site/docs/module3-isaac/ch3-navigation-humanoids.md","sourceDirName":"module3-isaac","slug":"/module3-isaac/ch3-navigation-humanoids","permalink":"/physical-ai-textbook/docs/module3-isaac/ch3-navigation-humanoids","draft":false,"unlisted":false,"editUrl":"https://github.com/salmansiddiqui-99/physical-ai-textbook/tree/main/docs/module3-isaac/ch3-navigation-humanoids.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"id":"ch3-navigation-humanoids","title":"Navigation for Humanoids: Bipedal Path Planning with Nav2","sidebar_label":"Humanoid Navigation","sidebar_position":9,"description":"Learn Nav2 navigation stack for humanoid robots including bipedal motion constraints, dynamic obstacle avoidance, and integration with Isaac ROS perception for autonomous indoor navigation.","keywords":["Nav2","humanoid navigation","bipedal locomotion","path planning","obstacle avoidance","costmap","behavior trees","footstep planning"],"prerequisites":["Completion of Chapters 3.1 (Isaac Sim) and 3.2 (Isaac ROS Perception)","Understanding of ROS 2 actions and services from Module 1","Familiarity with costmaps and path planning concepts"],"learning_objectives":["Explain Nav2 architecture and configure navigation stack for bipedal robots","Implement bipedal-specific motion constraints and footstep planners","Configure costmaps for obstacle avoidance considering humanoid height and stability","Integrate Isaac ROS perception (VSLAM, stereo) with Nav2 for autonomous navigation"],"estimated_time":"90 minutes"},"sidebar":"tutorialSidebar","previous":{"title":"Isaac ROS Perception","permalink":"/physical-ai-textbook/docs/module3-isaac/ch2-isaac-ros-perception"},"next":{"title":"Voice-to-Action","permalink":"/physical-ai-textbook/docs/module4-vla/ch1-voice-to-action"}}');var o=a(4848),s=a(8453);const t={id:"ch3-navigation-humanoids",title:"Navigation for Humanoids: Bipedal Path Planning with Nav2",sidebar_label:"Humanoid Navigation",sidebar_position:9,description:"Learn Nav2 navigation stack for humanoid robots including bipedal motion constraints, dynamic obstacle avoidance, and integration with Isaac ROS perception for autonomous indoor navigation.",keywords:["Nav2","humanoid navigation","bipedal locomotion","path planning","obstacle avoidance","costmap","behavior trees","footstep planning"],prerequisites:["Completion of Chapters 3.1 (Isaac Sim) and 3.2 (Isaac ROS Perception)","Understanding of ROS 2 actions and services from Module 1","Familiarity with costmaps and path planning concepts"],learning_objectives:["Explain Nav2 architecture and configure navigation stack for bipedal robots","Implement bipedal-specific motion constraints and footstep planners","Configure costmaps for obstacle avoidance considering humanoid height and stability","Integrate Isaac ROS perception (VSLAM, stereo) with Nav2 for autonomous navigation"],estimated_time:"90 minutes"},r="Navigation for Humanoids: Bipedal Path Planning with Nav2",l={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Introduction",id:"introduction",level:2},{value:"Section 1: Nav2 Architecture for Humanoids",id:"section-1-nav2-architecture-for-humanoids",level:2},{value:"Subsection 1.1: Nav2 Core Components",id:"subsection-11-nav2-core-components",level:3},{value:"Subsection 1.2: Adapting Nav2 for Bipedal Robots",id:"subsection-12-adapting-nav2-for-bipedal-robots",level:3},{value:"Subsection 1.3: Installing Nav2 and Dependencies",id:"subsection-13-installing-nav2-and-dependencies",level:3},{value:"Section 2: Costmap Configuration for Humanoids",id:"section-2-costmap-configuration-for-humanoids",level:2},{value:"Subsection 2.1: What is a Costmap?",id:"subsection-21-what-is-a-costmap",level:3},{value:"Subsection 2.2: Humanoid Costmap Parameters",id:"subsection-22-humanoid-costmap-parameters",level:3},{value:"Subsection 2.3: Handling Stairs and Slopes",id:"subsection-23-handling-stairs-and-slopes",level:3},{value:"Section 3: Path Planning for Bipedal Locomotion",id:"section-3-path-planning-for-bipedal-locomotion",level:2},{value:"Subsection 3.1: Global Planners: Smac vs. NavFn",id:"subsection-31-global-planners-smac-vs-navfn",level:3},{value:"Subsection 3.2: Local Controllers: DWB with Bipedal Constraints",id:"subsection-32-local-controllers-dwb-with-bipedal-constraints",level:3},{value:"Subsection 3.3: Footstep Planning (Advanced)",id:"subsection-33-footstep-planning-advanced",level:3},{value:"Section 4: Integrating Isaac ROS Perception with Nav2",id:"section-4-integrating-isaac-ros-perception-with-nav2",level:2},{value:"Subsection 4.1: cuVSLAM as Localization Source",id:"subsection-41-cuvslam-as-localization-source",level:3},{value:"Subsection 4.2: Stereo Depth for Obstacle Avoidance",id:"subsection-42-stereo-depth-for-obstacle-avoidance",level:3},{value:"Subsection 4.3: Complete Navigation Launch File",id:"subsection-43-complete-navigation-launch-file",level:3},{value:"Section 5: Behavior Trees for Humanoid Navigation",id:"section-5-behavior-trees-for-humanoid-navigation",level:2},{value:"Subsection 5.1: What are Behavior Trees?",id:"subsection-51-what-are-behavior-trees",level:3},{value:"Subsection 5.2: Custom Humanoid Behaviors",id:"subsection-52-custom-humanoid-behaviors",level:3},{value:"Hands-On Project: Autonomous Warehouse Navigation",id:"hands-on-project-autonomous-warehouse-navigation",level:2},{value:"Step 1: Prepare Isaac Sim Scene",id:"step-1-prepare-isaac-sim-scene",level:3},{value:"Step 2: Install and Configure Nav2",id:"step-2-install-and-configure-nav2",level:3},{value:"Step 3: Create Nav2 Configuration",id:"step-3-create-nav2-configuration",level:3},{value:"Step 4: Launch Navigation Stack",id:"step-4-launch-navigation-stack",level:3},{value:"Step 5: Visualize in RViz",id:"step-5-visualize-in-rviz",level:3},{value:"Challenge: Test Your Understanding",id:"challenge-test-your-understanding",level:2},{value:"Summary",id:"summary",level:2},{value:"Further Reading",id:"further-reading",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(n){const e={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"navigation-for-humanoids-bipedal-path-planning-with-nav2",children:"Navigation for Humanoids: Bipedal Path Planning with Nav2"})}),"\n",(0,o.jsx)(e.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,o.jsx)(e.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Explain Nav2 architecture and adapt it for bipedal locomotion constraints"}),"\n",(0,o.jsx)(e.li,{children:"Implement costmap configuration for humanoid-specific obstacle detection (stairs, low ceilings)"}),"\n",(0,o.jsx)(e.li,{children:"Configure path planners and controllers for stable bipedal walking"}),"\n",(0,o.jsx)(e.li,{children:"Integrate Isaac ROS VSLAM and stereo depth with Nav2 for full autonomous navigation"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsx)(e.p,{children:"Before starting this chapter, you should:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["Have completed ",(0,o.jsx)(e.a,{href:"/physical-ai-textbook/docs/module3-isaac/ch1-isaac-sim",children:"Chapter 3.1: Isaac Sim Basics"})," and ",(0,o.jsx)(e.a,{href:"/physical-ai-textbook/docs/module3-isaac/ch2-isaac-ros-perception",children:"Chapter 3.2: Isaac ROS Perception"})]}),"\n",(0,o.jsxs)(e.li,{children:["Understand ROS 2 actions (from ",(0,o.jsx)(e.a,{href:"/physical-ai-textbook/docs/module1-ros2/ch2-ros2-humanoids",children:"Module 1"}),")"]}),"\n",(0,o.jsxs)(e.li,{children:["Have Nav2 installed (",(0,o.jsx)(e.code,{children:"sudo apt install ros-humble-navigation2 ros-humble-nav2-bringup"}),")"]}),"\n",(0,o.jsx)(e.li,{children:"Understand basic path planning concepts (A*, costmaps, dynamic window approach)"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"introduction",children:"Introduction"}),"\n",(0,o.jsx)(e.p,{children:"Autonomous navigation for humanoid robots is fundamentally different from wheeled robots. A differential-drive robot can rotate in place, move sideways with Mecanum wheels, and stop instantly. A humanoid must maintain balance while walking, cannot stop mid-step without falling, and has kinematic constraints (maximum stride length, step height clearance)."}),"\n",(0,o.jsxs)(e.p,{children:["ROS 2 Navigation Stack (",(0,o.jsx)(e.strong,{children:"Nav2"}),") is designed for mobile robots but can be adapted for humanoids with custom planners and controllers. The key is replacing wheeled-robot assumptions (instantaneous velocity changes, planar motion) with bipedal constraints (footstep sequences, center-of-mass stability, swing-leg clearance)."]}),"\n",(0,o.jsx)(e.p,{children:"This chapter shows how to configure Nav2 for humanoid robots using Isaac Sim and Isaac ROS perception. You'll implement costmap layers that account for vertical obstacles (humanoid can duck under tables but not drive under), path planners that generate footstep sequences, and behavior trees that coordinate navigation with balancing controllers."}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsx)(e.h2,{id:"section-1-nav2-architecture-for-humanoids",children:"Section 1: Nav2 Architecture for Humanoids"}),"\n",(0,o.jsx)(e.h3,{id:"subsection-11-nav2-core-components",children:"Subsection 1.1: Nav2 Core Components"}),"\n",(0,o.jsx)(e.p,{children:"Nav2 consists of modular servers communicating via ROS 2 actions:"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Key Servers"}),":"]}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Map Server"}),": Provides static map (floor plan) for localization"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"AMCL / SLAM Toolbox"}),": Localization (particle filter or SLAM)"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Planner Server"}),": Global path planning (A*, NavFn, Smac Planner)"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Controller Server"}),": Local trajectory execution (DWB, TEB, MPPI)"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Recoveries Server"}),": Behaviors for getting unstuck (rotate, back up)"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Behavior Tree (BT) Navigator"}),": Orchestrates navigation behaviors"]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Navigation Workflow"}),":"]}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsx)(e.li,{children:"User sends goal pose to BT Navigator"}),"\n",(0,o.jsx)(e.li,{children:"BT Navigator requests global path from Planner Server"}),"\n",(0,o.jsx)(e.li,{children:"Controller Server follows path, avoiding dynamic obstacles"}),"\n",(0,o.jsx)(e.li,{children:"If blocked, Recoveries Server executes recovery behaviors"}),"\n",(0,o.jsx)(e.li,{children:"Repeat until goal reached"}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"subsection-12-adapting-nav2-for-bipedal-robots",children:"Subsection 1.2: Adapting Nav2 for Bipedal Robots"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Key Modifications for Humanoids"}),":"]}),"\n",(0,o.jsxs)(e.table,{children:[(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:"Component"}),(0,o.jsx)(e.th,{children:"Wheeled Robot"}),(0,o.jsx)(e.th,{children:"Humanoid Modification"})]})}),(0,o.jsxs)(e.tbody,{children:[(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:(0,o.jsx)(e.strong,{children:"Controller"})}),(0,o.jsx)(e.td,{children:"DWB (continuous velocity)"}),(0,o.jsx)(e.td,{children:"Footstep-based MPC or stepped DWB"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:(0,o.jsx)(e.strong,{children:"Costmap"})}),(0,o.jsx)(e.td,{children:"2D obstacle layer"}),(0,o.jsx)(e.td,{children:"3D voxel layer (head clearance, stairs)"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:(0,o.jsx)(e.strong,{children:"Recovery Behaviors"})}),(0,o.jsx)(e.td,{children:"Rotate in place"}),(0,o.jsx)(e.td,{children:"Sidestepping, COM shift (no in-place rotation)"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:(0,o.jsx)(e.strong,{children:"Localization"})}),(0,o.jsx)(e.td,{children:"Wheel odometry + LIDAR"}),(0,o.jsx)(e.td,{children:"Visual SLAM (Isaac ROS cuVSLAM)"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:(0,o.jsx)(e.strong,{children:"Path Planning"})}),(0,o.jsx)(e.td,{children:"Smooth curves"}),(0,o.jsx)(e.td,{children:"Waypoint-based (discrete foot placements)"})]})]})]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Humanoid-Specific Constraints"}),":"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Minimum step duration"}),": ~0.4s per step (faster = unstable)"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Maximum stride length"}),": Typically 0.5-0.8m for human-sized humanoid"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Step height clearance"}),": Must clear obstacles <20cm (e.g., cables, curbs)"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Turning radius"}),": Cannot pivot in place (must take multiple steps to rotate)"]}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"subsection-13-installing-nav2-and-dependencies",children:"Subsection 1.3: Installing Nav2 and Dependencies"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Install Nav2 (if not already installed)\nsudo apt update\nsudo apt install ros-humble-navigation2 ros-humble-nav2-bringup\n\n# Install SLAM Toolbox for online mapping\nsudo apt install ros-humble-slam-toolbox\n\n# Install Smac Planner (lattice-based planner, good for humanoids)\nsudo apt install ros-humble-nav2-smac-planner\n\n# Verify installation\nros2 pkg list | grep nav2\n"})}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsx)(e.h2,{id:"section-2-costmap-configuration-for-humanoids",children:"Section 2: Costmap Configuration for Humanoids"}),"\n",(0,o.jsx)(e.h3,{id:"subsection-21-what-is-a-costmap",children:"Subsection 2.1: What is a Costmap?"}),"\n",(0,o.jsxs)(e.p,{children:["A ",(0,o.jsx)(e.strong,{children:"costmap"})," is a 2D/3D grid where each cell has a cost (0-254):"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"0"}),": Free space (robot can traverse)"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"253"}),": Inscribed obstacle (within robot footprint)"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"254"}),": Lethal obstacle (collision)"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"1-252"}),": Proximity to obstacles (higher = closer)"]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Costmap Layers"})," (combined via max operator):"]}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Static Layer"}),": From pre-built map (walls, furniture)"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Obstacle Layer"}),": From sensors (laser, depth camera)"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Inflation Layer"}),": Expands obstacles by robot radius + safety margin"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Voxel Layer"}),": 3D obstacles for height-aware navigation"]}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"subsection-22-humanoid-costmap-parameters",children:"Subsection 2.2: Humanoid Costmap Parameters"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Key Differences for Humanoids"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",children:"# File: humanoid_costmap_common.yaml\ncostmap_common_params:\n  robot_radius: 0.35  # Shoulder width / 2 + margin (meters)\n\n  # Observation sources (sensors)\n  observation_sources: lidar_scan stereo_point_cloud\n\n  # LiDAR at chest height (detects obstacles at torso level)\n  lidar_scan:\n    topic: /scan\n    sensor_frame: chest_lidar_link\n    observation_persistence: 0.0\n    expected_update_rate: 10.0\n    data_type: LaserScan\n    clearing: true\n    marking: true\n    min_obstacle_height: 0.3  # Ignore ground (robot can step over low obstacles)\n    max_obstacle_height: 2.0  # Detect up to humanoid head height\n\n  # Stereo depth for 3D obstacles (stairs, overhead clearance)\n  stereo_point_cloud:\n    topic: /stereo/points2\n    sensor_frame: head_camera_link\n    observation_persistence: 0.0\n    expected_update_rate: 5.0\n    data_type: PointCloud2\n    clearing: true\n    marking: true\n    min_obstacle_height: 0.1  # Detect low obstacles (cables, curbs)\n    max_obstacle_height: 2.2  # Ceiling/doorframe clearance\n\n  # Voxel grid for 3D obstacles\n  voxel_layer:\n    enabled: true\n    publish_voxel_map: true\n    origin_z: 0.0\n    z_resolution: 0.2  # 20cm vertical resolution\n    z_voxels: 12  # 2.4m max height (12 * 0.2m)\n    mark_threshold: 2  # Mark as obstacle if 2+ voxels occupied\n    unknown_threshold: 10\n    combination_method: 1  # Max operator\n\n  # Inflation layer (expand obstacles by robot size)\n  inflation_layer:\n    enabled: true\n    cost_scaling_factor: 3.0  # Exponential decay rate\n    inflation_radius: 0.6  # Robot radius + safety margin (meters)\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Visualization in RViz"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Launch Nav2 with humanoid costmap config\nros2 launch nav2_bringup bringup_launch.py \\\n  params_file:=/path/to/humanoid_nav2_params.yaml\n\n# In RViz, add:\n# - Map display (topic: /global_costmap/costmap)\n# - PointCloud2 (topic: /stereo/points2)\n# - LaserScan (topic: /scan)\n# Costmap should show inflated obstacles with 3D awareness\n"})}),"\n",(0,o.jsx)(e.h3,{id:"subsection-23-handling-stairs-and-slopes",children:"Subsection 2.3: Handling Stairs and Slopes"}),"\n",(0,o.jsxs)(e.p,{children:["Humanoids can climb stairs, but Nav2's 2D costmap treats them as obstacles. Solution: ",(0,o.jsx)(e.strong,{children:"stair detection and traversability layer"}),"."]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Custom Costmap Plugin Concept"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-cpp",children:"// Pseudo-code for stair-aware costmap layer\nclass StairLayer : public nav2_costmap_2d::Layer {\n  void updateCosts(costmap_2d::Costmap2D& master_grid, ...) override {\n    // 1. Detect stair regions from point cloud (plane fitting)\n    // 2. Check if stair geometry matches robot capabilities:\n    //    - Step height < max_step_height (e.g., 25cm)\n    //    - Step depth > min_foot_length (e.g., 20cm)\n    // 3. Mark traversable stairs as FREE (cost 0)\n    // 4. Mark non-traversable stairs as LETHAL (cost 254)\n  }\n};\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Simplified Approach for Beginners"}),":"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:'Pre-mark stair regions in static map as "traversable zones"'}),"\n",(0,o.jsx)(e.li,{children:'Use behavior tree to trigger "climb stairs" action when entering zone'}),"\n",(0,o.jsx)(e.li,{children:"Disable costmap obstacle detection in stair zones"}),"\n"]}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsx)(e.h2,{id:"section-3-path-planning-for-bipedal-locomotion",children:"Section 3: Path Planning for Bipedal Locomotion"}),"\n",(0,o.jsx)(e.h3,{id:"subsection-31-global-planners-smac-vs-navfn",children:"Subsection 3.1: Global Planners: Smac vs. NavFn"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"NavFn (Traditional A*)"}),":"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Assumes circular robot (holonomic or differential drive)"}),"\n",(0,o.jsx)(e.li,{children:"Plans smooth paths ignoring kinematic constraints"}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Problem for humanoids"}),": Generates tight turns requiring in-place rotation"]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Smac Planner (State Lattice)"}),":"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:'Pre-computes feasible motion primitives (e.g., "step forward-left", "step right")'}),"\n",(0,o.jsx)(e.li,{children:"Plans over discrete states (x, y, theta)"}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Better for humanoids"}),": Respects turning radius, generates footstep-like paths"]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Configuration"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",children:'# File: humanoid_nav2_params.yaml\nplanner_server:\n  ros__parameters:\n    planner_plugins: ["GridBased"]\n\n    GridBased:\n      plugin: "nav2_smac_planner/SmacPlannerHybrid"  # Hybrid A* (better for humanoids)\n\n      # Motion model parameters\n      motion_model_for_search: "REEDS_SHEPP"  # Car-like model (no in-place rotation)\n      minimum_turning_radius: 0.5  # Meters (humanoid needs ~2 steps to turn 90\xb0)\n\n      # Cost penalties\n      change_penalty: 0.05  # Penalize direction changes (prefer straight paths)\n      non_straight_penalty: 1.2  # Further penalize curves\n      cost_travel_multiplier: 2.0\n\n      # Search parameters\n      max_iterations: 1000000\n      max_planning_time: 5.0  # Seconds (allow time for complex plans)\n\n      # Footprint (humanoid shoulder width)\n      footprint: "[[0.25, 0.25], [0.25, -0.25], [-0.25, -0.25], [-0.25, 0.25]]"\n'})}),"\n",(0,o.jsx)(e.h3,{id:"subsection-32-local-controllers-dwb-with-bipedal-constraints",children:"Subsection 3.2: Local Controllers: DWB with Bipedal Constraints"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"DWB (Dynamic Window Approach)"})," samples velocity trajectories and scores them."]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Modifications for Humanoids"}),":"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Discrete velocity samples"}),": Match walking gait speeds (0.2, 0.4, 0.6 m/s)"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Penalize lateral motion"}),": Humanoids walk forward, not sideways"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Limit angular velocity"}),": Slow rotation (e.g., 0.5 rad/s max)"]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Configuration"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",children:'controller_server:\n  ros__parameters:\n    controller_frequency: 10.0  # Lower than wheeled robots (humanoid controller runs at 100Hz separately)\n    controller_plugins: ["FollowPath"]\n\n    FollowPath:\n      plugin: "dwb_core::DWBLocalPlanner"\n\n      # Velocity limits (match humanoid walking capabilities)\n      min_vel_x: 0.0\n      max_vel_x: 0.6  # Max forward walking speed (m/s)\n      min_vel_y: 0.0  # No lateral motion\n      max_vel_y: 0.0\n      max_vel_theta: 0.5  # Slow turning (rad/s)\n      min_speed_xy: 0.1  # Minimum speed to maintain balance\n      max_speed_xy: 0.6\n      acc_lim_x: 0.3  # Slow acceleration (avoid destabilizing robot)\n      acc_lim_theta: 0.5\n      decel_lim_x: -0.5\n      decel_lim_theta: -1.0\n\n      # Trajectory simulation\n      vx_samples: 5  # Sample fewer velocities (faster planning)\n      vy_samples: 1  # No Y motion\n      vtheta_samples: 10\n      sim_time: 2.0  # Simulate 2s ahead (longer for slower humanoid reactions)\n\n      # Scoring weights\n      path_distance_bias: 32.0  # Stay close to global path\n      goal_distance_bias: 20.0  # Prefer trajectories toward goal\n      occdist_scale: 0.02  # Penalize trajectories near obstacles\n      forward_point_distance: 0.3  # Lookahead distance for path tracking\n\n      # Critics (trajectory scoring functions)\n      critics: [\n        "RotateToGoal",\n        "Oscillation",\n        "BaseObstacle",\n        "GoalAlign",\n        "PathAlign",\n        "PathDist",\n        "GoalDist"\n      ]\n'})}),"\n",(0,o.jsx)(e.h3,{id:"subsection-33-footstep-planning-advanced",children:"Subsection 3.3: Footstep Planning (Advanced)"}),"\n",(0,o.jsxs)(e.p,{children:["For precise bipedal control, replace DWB with ",(0,o.jsx)(e.strong,{children:"footstep planner"}),":"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Concept"}),":"]}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsx)(e.li,{children:"Global planner generates waypoints"}),"\n",(0,o.jsx)(e.li,{children:"Footstep planner computes foot placements (left, right, left, ...) to reach each waypoint"}),"\n",(0,o.jsx)(e.li,{children:"Whole-body controller executes footstep sequence"}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"ROS 2 Package"}),": ",(0,o.jsx)(e.code,{children:"humanoid_navigation"})," (community package)"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Example Footstep Plan"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"Goal: Move forward 2m, turn right 90\xb0\nFootsteps:\n  1. Left foot: (0.4, 0.1, 0\xb0)\n  2. Right foot: (0.8, -0.1, 0\xb0)\n  3. Left foot: (1.2, 0.1, 0\xb0)\n  4. Right foot: (1.6, -0.1, 15\xb0)  # Start turning\n  5. Left foot: (2.0, 0.2, 45\xb0)\n  6. Right foot: (2.2, 0.0, 90\xb0)    # Final orientation\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Integration with Nav2"}),":"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Use Smac Planner for global waypoints"}),"\n",(0,o.jsx)(e.li,{children:"Replace DWB with footstep controller that tracks waypoints"}),"\n",(0,o.jsxs)(e.li,{children:["Controller publishes ",(0,o.jsx)(e.code,{children:"geometry_msgs/PoseStamped"})," for each foot to whole-body controller"]}),"\n"]}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsx)(e.h2,{id:"section-4-integrating-isaac-ros-perception-with-nav2",children:"Section 4: Integrating Isaac ROS Perception with Nav2"}),"\n",(0,o.jsx)(e.h3,{id:"subsection-41-cuvslam-as-localization-source",children:"Subsection 4.1: cuVSLAM as Localization Source"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Replace AMCL with cuVSLAM"}),":"]}),"\n",(0,o.jsx)(e.p,{children:"AMCL (Adaptive Monte Carlo Localization) uses particle filters with laser scans. For humanoids with cameras, use cuVSLAM instead."}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Launch File"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:"# File: humanoid_nav2_isaac.launch.py\nfrom launch import LaunchDescription\nfrom launch_ros.actions import Node\nfrom nav2_common.launch import RewrittenYaml\n\ndef generate_launch_description():\n    # Nav2 bringup (without AMCL)\n    nav2_params = RewrittenYaml(\n        source_file='humanoid_nav2_params.yaml',\n        root_key='',\n        param_rewrites='',\n        convert_types=True\n    )\n\n    return LaunchDescription([\n        # cuVSLAM for localization (replaces AMCL)\n        Node(\n            package='isaac_ros_visual_slam',\n            executable='isaac_ros_visual_slam',\n            name='visual_slam',\n            parameters=[{\n                'enable_imu_fusion': True,\n                'enable_localization_n_mapping': True,\n                'map_frame': 'map',\n                'odom_frame': 'odom',\n                'base_frame': 'base_link'\n            }],\n            remappings=[\n                ('/camera/image_raw', '/humanoid/camera/left/image_raw'),\n                ('/camera/camera_info', '/humanoid/camera/left/camera_info'),\n                ('/imu/data', '/humanoid/imu/data')\n            ]\n        ),\n\n        # Nav2 Lifecycle Manager\n        Node(\n            package='nav2_lifecycle_manager',\n            executable='lifecycle_manager',\n            name='lifecycle_manager_navigation',\n            parameters=[{'autostart': True, 'node_names': ['planner_server', 'controller_server', 'bt_navigator']}]\n        ),\n\n        # Planner Server\n        Node(\n            package='nav2_planner',\n            executable='planner_server',\n            name='planner_server',\n            parameters=[nav2_params]\n        ),\n\n        # Controller Server\n        Node(\n            package='nav2_controller',\n            executable='controller_server',\n            name='controller_server',\n            parameters=[nav2_params]\n        ),\n\n        # Behavior Tree Navigator\n        Node(\n            package='nav2_bt_navigator',\n            executable='bt_navigator',\n            name='bt_navigator',\n            parameters=[nav2_params]\n        )\n    ])\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Key Configuration"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",children:"# In humanoid_nav2_params.yaml\nbt_navigator:\n  ros__parameters:\n    global_frame: map\n    robot_base_frame: base_link\n    odom_topic: /visual_slam/tracking/odometry  # Use cuVSLAM odometry instead of wheel encoders\n    transform_tolerance: 0.5  # Allow 500ms TF latency (visual SLAM can lag slightly)\n"})}),"\n",(0,o.jsx)(e.h3,{id:"subsection-42-stereo-depth-for-obstacle-avoidance",children:"Subsection 4.2: Stereo Depth for Obstacle Avoidance"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Publish Point Cloud to Costmap"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",children:"# In humanoid_costmap_common.yaml\nlocal_costmap:\n  local_costmap:\n    ros__parameters:\n      # ... (other params)\n\n      observation_sources: stereo_points\n\n      stereo_points:\n        topic: /stereo/points2\n        sensor_frame: head_camera_optical_frame\n        data_type: PointCloud2\n        clearing: true\n        marking: true\n        min_obstacle_height: 0.2  # Ignore ground plane\n        max_obstacle_height: 2.0  # Detect obstacles up to head height\n        obstacle_range: 5.0  # Only consider obstacles within 5m\n        raytrace_range: 6.0  # Clear space up to 6m\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Filter Ground Plane"})," (critical for point clouds):"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Use PCL ground plane removal\nros2 run pcl_ros_filter_ground_plane_node \\\n  --ros-args \\\n  --remap /input:=/stereo/points2 \\\n  --remap /output:=/stereo/points2_filtered \\\n  --param distance_threshold:=0.05 \\\n  --param max_iterations:=100\n"})}),"\n",(0,o.jsx)(e.h3,{id:"subsection-43-complete-navigation-launch-file",children:"Subsection 4.3: Complete Navigation Launch File"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:"# File: humanoid_full_navigation.launch.py\nfrom launch import LaunchDescription\nfrom launch.actions import IncludeLaunchDescription\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\nfrom launch_ros.actions import Node\nimport os\nfrom ament_index_python.packages import get_package_share_directory\n\ndef generate_launch_description():\n    nav2_bringup_dir = get_package_share_directory('nav2_bringup')\n\n    return LaunchDescription([\n        # 1. Isaac Sim (run separately)\n        # Assumed to be publishing:\n        # - /humanoid/camera/left/image_raw\n        # - /humanoid/camera/right/image_raw\n        # - /humanoid/imu/data\n\n        # 2. Isaac ROS cuVSLAM\n        Node(\n            package='isaac_ros_visual_slam',\n            executable='isaac_ros_visual_slam',\n            name='visual_slam',\n            parameters=[{\n                'enable_imu_fusion': True,\n                'map_frame': 'map',\n                'odom_frame': 'odom'\n            }]\n        ),\n\n        # 3. Isaac ROS Stereo Depth\n        IncludeLaunchDescription(\n            PythonLaunchDescriptionSource(\n                os.path.join(get_package_share_directory('isaac_ros_stereo_image_proc'),\n                             'launch', 'isaac_ros_stereo_image_pipeline.launch.py')\n            )\n        ),\n\n        # 4. Nav2 Stack\n        IncludeLaunchDescription(\n            PythonLaunchDescriptionSource(\n                os.path.join(nav2_bringup_dir, 'launch', 'bringup_launch.py')\n            ),\n            launch_arguments={\n                'use_sim_time': 'true',\n                'params_file': '/path/to/humanoid_nav2_params.yaml',\n                'autostart': 'true'\n            }.items()\n        ),\n\n        # 5. RViz\n        Node(\n            package='rviz2',\n            executable='rviz2',\n            name='rviz2',\n            arguments=['-d', os.path.join(nav2_bringup_dir, 'rviz', 'nav2_default_view.rviz')]\n        )\n    ])\n"})}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsx)(e.h2,{id:"section-5-behavior-trees-for-humanoid-navigation",children:"Section 5: Behavior Trees for Humanoid Navigation"}),"\n",(0,o.jsx)(e.h3,{id:"subsection-51-what-are-behavior-trees",children:"Subsection 5.1: What are Behavior Trees?"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Behavior Trees (BT)"})," are a control architecture for AI and robotics:"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Nodes"}),": Conditions, actions, control flow (sequence, fallback, parallel)"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Execution"}),": Tick nodes from root, propagate SUCCESS/FAILURE/RUNNING"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Modularity"}),": Compose complex behaviors from simple building blocks"]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Nav2 Behavior Tree"}),":"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Root: Navigate to pose"}),"\n",(0,o.jsx)(e.li,{children:"Children: Compute path \u2192 Follow path \u2192 Recovery behaviors"}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"subsection-52-custom-humanoid-behaviors",children:"Subsection 5.2: Custom Humanoid Behaviors"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:'Example: "Check Balance Before Moving"'})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'\x3c!-- File: humanoid_navigate_to_pose.xml --\x3e\n<root main_tree_to_execute="MainTree">\n  <BehaviorTree ID="MainTree">\n    <Sequence name="NavigateWithBalanceCheck">\n      \x3c!-- 1. Check if robot is balanced --\x3e\n      <Condition ID="IsBalanced" topic="/robot/is_balanced" expected="true"/>\n\n      \x3c!-- 2. Compute global path --\x3e\n      <ComputePathToPose goal="{goal}" path="{path}"/>\n\n      \x3c!-- 3. Follow path with balance monitoring --\x3e\n      <RecoveryNode number_of_retries="3" name="FollowPathWithRecovery">\n        <Sequence>\n          <Condition ID="IsBalanced"/>  \x3c!-- Check balance each iteration --\x3e\n          <FollowPath path="{path}"/>\n        </Sequence>\n\n        \x3c!-- If balance lost, execute recovery --\x3e\n        <Fallback>\n          <Sequence>\n            <Action ID="StopMotion"/>  \x3c!-- Freeze all joints --\x3e\n            <Action ID="RegainBalance"/>  \x3c!-- Shift COM, adjust stance --\x3e\n            <Wait wait_duration="1"/>\n          </Sequence>\n          <Action ID="Abort"/>  \x3c!-- If recovery fails, abort navigation --\x3e\n        </Fallback>\n      </RecoveryNode>\n\n      \x3c!-- 4. Success --\x3e\n      <Action ID="SuccessAction"/>\n    </Sequence>\n  </BehaviorTree>\n</root>\n'})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Load Custom BT"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",children:'# In humanoid_nav2_params.yaml\nbt_navigator:\n  ros__parameters:\n    default_bt_xml_filename: "/path/to/humanoid_navigate_to_pose.xml"\n'})}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsx)(e.h2,{id:"hands-on-project-autonomous-warehouse-navigation",children:"Hands-On Project: Autonomous Warehouse Navigation"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Goal"}),": Navigate a humanoid through a simulated warehouse using Isaac Sim, cuVSLAM, stereo depth, and Nav2."]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Duration"}),": 60 minutes"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"What You'll Learn"}),":"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Set up complete perception + navigation pipeline"}),"\n",(0,o.jsx)(e.li,{children:"Tune costmap for dynamic obstacles"}),"\n",(0,o.jsx)(e.li,{children:"Send navigation goals and monitor execution"}),"\n",(0,o.jsx)(e.li,{children:"Handle navigation failures with recoveries"}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"step-1-prepare-isaac-sim-scene",children:"Step 1: Prepare Isaac Sim Scene"}),"\n",(0,o.jsx)(e.p,{children:"(From Chapter 3.1, create warehouse with humanoid + stereo camera)"}),"\n",(0,o.jsx)(e.h3,{id:"step-2-install-and-configure-nav2",children:"Step 2: Install and Configure Nav2"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Install Nav2\nsudo apt install ros-humble-navigation2 ros-humble-nav2-bringup\n\n# Create workspace\nmkdir -p ~/humanoid_nav_ws/src\ncd ~/humanoid_nav_ws/src\n\n# Clone Isaac ROS (if not already)\ngit clone https://github.com/NVIDIA-ISAAC-ROS/isaac_ros_visual_slam.git\ngit clone https://github.com/NVIDIA-ISAAC-ROS/isaac_ros_image_pipeline.git\n\n# Build\ncd ~/humanoid_nav_ws\ncolcon build --symlink-install\nsource install/setup.bash\n"})}),"\n",(0,o.jsx)(e.h3,{id:"step-3-create-nav2-configuration",children:"Step 3: Create Nav2 Configuration"}),"\n",(0,o.jsxs)(e.p,{children:["Save the following as ",(0,o.jsx)(e.code,{children:"humanoid_nav2_params.yaml"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",children:'bt_navigator:\n  ros__parameters:\n    global_frame: map\n    robot_base_frame: base_link\n    odom_topic: /visual_slam/tracking/odometry\n    default_bt_xml_filename: "navigate_to_pose_w_replanning_and_recovery.xml"\n\nplanner_server:\n  ros__parameters:\n    planner_plugins: ["GridBased"]\n    GridBased:\n      plugin: "nav2_navfn_planner/NavfnPlanner"\n\ncontroller_server:\n  ros__parameters:\n    controller_frequency: 10.0\n    controller_plugins: ["FollowPath"]\n    FollowPath:\n      plugin: "dwb_core::DWBLocalPlanner"\n      min_vel_x: 0.0\n      max_vel_x: 0.5\n      max_vel_theta: 0.5\n      acc_lim_x: 0.3\n      acc_lim_theta: 0.5\n\nlocal_costmap:\n  local_costmap:\n    ros__parameters:\n      update_frequency: 5.0\n      publish_frequency: 2.0\n      global_frame: odom\n      robot_base_frame: base_link\n      rolling_window: true\n      width: 5\n      height: 5\n      resolution: 0.05\n      robot_radius: 0.35\n      plugins: ["voxel_layer", "inflation_layer"]\n      voxel_layer:\n        plugin: "nav2_costmap_2d::VoxelLayer"\n      inflation_layer:\n        plugin: "nav2_costmap_2d::InflationLayer"\n\nglobal_costmap:\n  global_costmap:\n    ros__parameters:\n      update_frequency: 1.0\n      publish_frequency: 1.0\n      global_frame: map\n      robot_base_frame: base_link\n      robot_radius: 0.35\n      resolution: 0.05\n      plugins: ["static_layer", "inflation_layer"]\n      static_layer:\n        plugin: "nav2_costmap_2d::StaticLayer"\n        map_subscribe_transient_local: true\n      inflation_layer:\n        plugin: "nav2_costmap_2d::InflationLayer"\n        inflation_radius: 0.6\n'})}),"\n",(0,o.jsx)(e.h3,{id:"step-4-launch-navigation-stack",children:"Step 4: Launch Navigation Stack"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Terminal 1: Launch Isaac Sim (from Chapter 3.1)\n\n# Terminal 2: Launch perception + navigation\nros2 launch humanoid_full_navigation.launch.py\n\n# Terminal 3: Send navigation goal\nros2 topic pub --once /goal_pose geometry_msgs/PoseStamped \\\n  \"{header: {frame_id: 'map'}, pose: {position: {x: 5.0, y: 2.0, z: 0.0}, orientation: {w: 1.0}}}\"\n"})}),"\n",(0,o.jsx)(e.h3,{id:"step-5-visualize-in-rviz",children:"Step 5: Visualize in RViz"}),"\n",(0,o.jsx)(e.p,{children:"In RViz, you should see:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Global costmap"}),": Static warehouse obstacles"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Local costmap"}),": Dynamic obstacles from stereo depth"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Global path"}),": Green line from planner"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Local trajectory"}),": DWB controller trajectory"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Robot model"}),": Humanoid moving along path"]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Monitor Progress"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Check navigation status\nros2 topic echo /bt_navigator/status\n\n# Check if goal reached\nros2 topic echo /bt_navigator/result\n"})}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsx)(e.h2,{id:"challenge-test-your-understanding",children:"Challenge: Test Your Understanding"}),"\n",(0,o.jsx)(e.p,{children:"Try these exercises to reinforce your learning:"}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Basic"}),": Add a static obstacle to the costmap by modifying the map YAML file, then navigate around it"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.em,{children:"Hint"}),": Edit ",(0,o.jsx)(e.code,{children:"map.yaml"})," to add occupied cells, reload with map_server"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Intermediate"}),": Implement a custom recovery behavior that backs up the humanoid if stuck"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.em,{children:"Hint"}),": Create ROS 2 action server that publishes negative velocity for 2 seconds"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Advanced"}),": Integrate footstep planner from ",(0,o.jsx)(e.code,{children:"humanoid_navigation"})," package to replace DWB controller"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.em,{children:"Hint"}),": Create custom controller plugin that calls footstep planner and publishes foot targets"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,o.jsx)(e.p,{children:"In this chapter, you learned:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Nav2 architecture"}),": Planner, controller, recoveries, behavior trees for orchestrating navigation"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Humanoid costmap configuration"}),": 3D voxel layers, sensor fusion (stereo depth + LiDAR), stair handling"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Bipedal path planning"}),": Smac Planner for kinematic constraints, DWB tuning for stable walking"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Isaac ROS integration"}),": cuVSLAM for localization, stereo depth for obstacle avoidance, complete pipeline"]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Key Commands"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Launch Nav2 with custom config\nros2 launch nav2_bringup bringup_launch.py params_file:=humanoid_nav2_params.yaml\n\n# Send navigation goal\nros2 action send_goal /navigate_to_pose nav2_msgs/action/NavigateToPose \\\n  \"{pose: {header: {frame_id: 'map'}, pose: {position: {x: 5.0, y: 2.0}}}}\"\n\n# Monitor costmap topics\nros2 topic echo /local_costmap/costmap_updates\nros2 topic echo /global_costmap/costmap\n\n# Check TF tree (ensure map\u2192odom\u2192base_link connected)\nros2 run tf2_tools view_frames\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Core Concepts"}),":"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Costmap Layers"}),": Static, obstacle, voxel, inflation (combined to create navigation cost field)"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Smac Planner"}),": Lattice-based planning with kinematic constraints (no holonomic motion)"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"DWB Controller"}),": Dynamic window approach with velocity sampling (adapted for bipedal speeds)"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Behavior Trees"}),": Modular navigation logic with recoveries for robust autonomy"]}),"\n"]}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsx)(e.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,o.jsx)(e.p,{children:"Official Documentation:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"https://navigation.ros.org/",children:"Nav2 Documentation"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"https://navigation.ros.org/tuning/index.html",children:"Nav2 Tuning Guide"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"https://navigation.ros.org/configuration/packages/configuring-smac-planner.html",children:"Smac Planner Details"})}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:"Tutorials and Examples:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"https://navigation.ros.org/setup_guides/index.html",children:"Nav2 Tutorials (First-Time Robot Setup)"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"https://navigation.ros.org/behavior_trees/index.html",children:"Behavior Trees in Nav2"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"https://navigation.ros.org/setup_guides/footprint/setup_footprint.html",children:"Costmap Configuration Guide"})}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:"Research Papers:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:'"Humanoid Navigation System in Cluttered Environments" (Stasse et al., 2018) - Footstep planning with MPC'}),"\n",(0,o.jsx)(e.li,{children:'"A Survey of Bipedal Locomotion Control" (Kuo et al., 2020) - Stability constraints for walking robots'}),"\n",(0,o.jsx)(e.li,{children:'"DWA for Mobile Robot Navigation" (Fox et al., 1997) - Original dynamic window approach'}),"\n"]}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,o.jsx)(e.p,{children:"Congratulations! You've completed Module 3: NVIDIA Isaac Platform."}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Next Module"}),": Module 4: Vision-Language-Action Systems (Coming Soon)"]}),"\n",(0,o.jsx)(e.p,{children:"In Module 4, you'll learn how to integrate voice commands, natural language task planning with LLMs, and vision-language-action models to create truly intelligent humanoid robots that understand and execute complex commands."}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Optional Practice"}),":"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:'Implement a "follow person" behavior using YOLO object detection + Nav2 goal updates'}),"\n",(0,o.jsx)(e.li,{children:"Tune DWB parameters for different walking speeds (slow/normal/fast modes)"}),"\n",(0,o.jsx)(e.li,{children:"Create a map of your lab/home using SLAM Toolbox + Isaac Sim simulation"}),"\n",(0,o.jsx)(e.li,{children:"Join the Nav2 community on ROS Discourse for advanced navigation discussions"}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}},8453:(n,e,a)=>{a.d(e,{R:()=>t,x:()=>r});var i=a(6540);const o={},s=i.createContext(o);function t(n){const e=i.useContext(s);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:t(n.components),i.createElement(s.Provider,{value:e},n.children)}}}]);